<!DOCTYPE HTML>
<html>
    <head>
    	<title>Edit Budget</title>
    	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
    	<meta name="viewport" content="width=device-width, user-scalable=no" />
    	<%= stylesheet_link_tag 'main' %>
    	<script>
    	    window.addEventListener("load",function() {
              setTimeout(function(){
                window.scrollTo(0, 1);
              }, 0);
            });
        </script>
    </head>
    <body>
    	<div id="header">
    		<h1>Edit Budget</h1>
    		<span class="left"><a href="/budgets/<%= params[:year] %>/<%= params[:month] %>" class="sprite back-icon"></a></span>
    		<span class="left-2"><a href="/" class="sprite home-icon"></a></span>
    	</div>
	
    	<% form_for(@budget) do |f| %>
    	    <% if @budget.errors.any? %>
                <div id="error_explanation">
                    <h2>Please fix errors:</h2>
                    <ul>
                    <% @budget.errors.full_messages.each do |msg| %>
                        <li><%= msg %></li>
                    <% end %>
                    </ul>
                </div>
            <% end %>
    		<div class="form">
    			<p><%= f.text_field :amount, :class => "text-field", :type => "number", :placeholder => :Amount %></p>
    			<p><%= f.select :category_id, @categories, {}, :class => "select-box wide" %></p>
    			<p class="buttons">
    			    <%= hidden_field_tag(:month, params[:month]) %>
    			    <%= hidden_field_tag(:year, params[:year]) %>
    				<%= f.submit 'Update', :class => "button" %> <input type="button" class="button" onclick="window.location='/budgets/<%= params[:year] %>/<%= params[:month] %>';" value="Cancel">
    			</p>
    		</div>
    	<% end %>
    	
    	<p class="buttons delete">
    	    <%= button_to "DELETE", { :controller => :budgets, :action => 'destroy' }, { :id => @budget.id, :confirm => "Are you sure?", :class => "delete-button", :method => :delete } %>
    	</p>
    </body>
</html>